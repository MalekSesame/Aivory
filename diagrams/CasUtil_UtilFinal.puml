@startuml
left to right direction

title Cas d'Utilisation Détail - Utilisateur Final

actor "Utilisateur Final" as User

rectangle "Système RAG" {
  package "Gestion Documents" {
    (UC1.1: Upload Document) as UC11
    (UC1.2: Visualiser Documents) as UC12
    (UC1.3: Supprimer Document) as UC13
    (UC1.4: Organiser Collections) as UC14
  }
  
  package "Recherche Information" {
    (UC2.1: Poser Question) as UC21
    (UC2.2: Recevoir Réponse) as UC22
    (UC2.3: Consulter Sources) as UC23
    (UC2.4: Suivre Conversation) as UC24
  }
  
  package "Gestion Compte" {
    (UC3.1: Modifier Profil) as UC31
    (UC3.2: Configurer Préférences) as UC32
    (UC3.3: Consulter Historique) as UC33
    (UC3.4: Exporter Données) as UC34
  }
  
  package "Feedback" {
    (UC4.1: Noter Réponse) as UC41
    (UC4.2: Signaler Problème) as UC42
    (UC4.3: Suggérer Amélioration) as UC43
  }
}

' Associations principales
User --> UC11
User --> UC12
User --> UC13
User --> UC14

User --> UC21
User --> UC22
User --> UC23
User --> UC24

User --> UC31
User --> UC32
User --> UC33
User --> UC34

User --> UC41
User --> UC42
User --> UC43

' Relations entre cas d'utilisation
UC21 .> UC11 : include
UC22 .> UC21 : include
UC33 .> UC21 : include
UC41 .> UC22 : extend

' Acteurs externes
actor "Système Email" as Email
actor "Stockage Cloud" as Cloud
actor "Service Paiement" as Payment

Email .> UC11 : <<extend>>
Cloud .> UC11 : <<extend>>
Payment .> UC34 : <<extend>>

note top of UC21
  <b>Cas central :</b>
  Poser une question sur
  les documents indexés
end note

note right of UC11
  <b>Prérequis :</b>
  Authentification réussie
  Quota disponible
end note

@enduml