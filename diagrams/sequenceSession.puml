@startuml
title Diagramme de séquence - Gestion des Sessions

participant U as "Utilisateur"
participant F as "Frontend"
participant G as "API Gateway"
participant A as "Auth Service"
participant S as "Session Service"
participant C as "Cache Service"

U ->> F : 1. Saisie credentials
F ->> A : 2. POST /auth/login
A ->> C : 3. Vérification
A ->> S : 4. Création session
S ->> C : 5. Stockage session
A -->> F : 6. Token JWT
F ->> F : 7. Stockage local

loop Toutes les 5 minutes
    F ->> S : 8. Refresh session
    S ->> C : 9. Extension TTL
end

U ->> F : 10. Click "Logout"
F ->> S : 11. Invalidation
S ->> C : 12. Suppression
F ->> F : 13. Nettoyage local
F -->> U : 14. Redirection login

@enduml
